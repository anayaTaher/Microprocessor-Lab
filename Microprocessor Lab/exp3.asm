CODE SEGMENT
ASSUME CS:CODE
ORG 1000H

START:

MOV AL, 76H
OUT 43H, AL

MOV AL, 90H
MOV DX, 0FF2BH
OUT DX, AL

LOOP:
MOV DX, 0FF28H
IN AL, DX
MOV DX, 0FF29H
CMP AL, 0FEH
JZ L1
CMP AL, 0FDH
JZ L2
CMP AL, 0FBH
JZ L3
CMP AL, 0F7H
JZ L4
CMP AL, 0EFH
JZ L5
CMP AL, 0DFH
JZ L6
CMP AL, 0BFH
JZ L7
MOV AL, 0
OUT DX, AL
JMP LOOP

CONT:
OUT 41H, AX
MOV AL, 1
OUT DX, AL
JMP LOOP


L1:
MOV AL, 0E0H
OUT 41H, AX
MOV AL, 8H
JMP CONT

L2:
MOV AL, 0E8H
OUT 41H, AX
MOV AL, 7H
JMP CONT

L3:
MOV AL, 0BH
OUT 41H, AX
MOV AL, 7H
JMP CONT

L4:
MOV AL, 0A6H
OUT 41H, AX
MOV AL, 6H
JMP CONT

L5:
MOV AL, 0ECH
OUT 41H, AX
MOV AL, 5H
JMP CONT

L6:
MOV AL, 47H
OUT 41H, AX
MOV AL, 5H
JMP CONT

L7:
MOV AL, 0B3H
OUT 41H, AX
MOV AL, 4H
JMP CONT


END START
CODE ENDS