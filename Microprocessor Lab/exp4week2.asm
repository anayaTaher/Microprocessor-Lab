CODE SEGMENT
ASSUME CS:CODE
ORG 1000H
START:

; KEYPAD CONFIGURATION
MOV DX, 8001H
MOV AL, 0
OUT DX, AL

; PROGRAM CLOCK CONFIGURATION
MOV AL, 00110010B
OUT DX, AL

; CLEAR CONFIGURATION
MOV AL, 11011111B
OUT DX, AL

CALL DELAY
L1:
NO:
MOV DX, 8001H
IN AL, DX
AND AL, 07H
JZ NO

MOV DX, 8000H
IN AL, DX
AND AL, 3FH
MOV BL, AL
MOV BH, 0
AND AL, 00000111B
AND BL, 00111000B
SAR BL, 3
CMP AL, 00000000B
JE A1
CMP AL, 00000001B
JE A2
JMP L1
CONT:
MOV DX, 8001H
MOV AL, 82H
OUT DX, AL
MOV DX, 8000H
MOV AL, [SI + BX]
OUT DX, AL
JMP L1

A1:
LEA SI, ARR1
JMP CONT
A2:
LEA SI, ARR2
JMP CONT

DELAY PROC NEAR
      MOV CX, 1000
      LD:
      NOP
      LOOP LD
      RET
DELAY ENDP



;ARR1 DB 0CH, 9FH, 4AH, 0BH, 99H, 29H, 28H, 8FH, 8H, 9H
ARR1 DB 8FH, 99H, 8H, 29H, 9H, 28H, 88H, 38H
ARR2 DB 9FH, 0CH, 4AH, 0E8H, 0BH, 68H, 6CH, 1AH

END START
CODE ENDS
